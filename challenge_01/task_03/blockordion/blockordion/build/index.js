(()=>{"use strict";var e,t={969:()=>{const e=window.React,t=window.wp.blocks,n=(window.wp.i18n,window.wp.blockEditor),o=window.wp.components,c=window.wp.primitives,i=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})),r=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})),l=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),a=(0,e.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(c.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function u(t){const{addItemAbove:n,addItemBelow:c,deleteItem:u}=t,s=[{title:"Add New Item Above",icon:i,onClick:n},{title:"Add New Item Below",icon:r,onClick:c}];return u&&s.push({title:"Delete Current Item",icon:l,onClick:u}),(0,e.createElement)(o.DropdownMenu,{className:"",icon:a,label:"Settings",controls:s})}function s(){var e;return null!==(e=document.querySelector("iframe")?.contentDocument)&&void 0!==e?e:document}function d(){return s().body}function m(e=null){const t=d();if(t&&(t.classList.forEach((e=>{e.startsWith("cursor__")&&t.classList.remove(e)})),e)){const n=`cursor__${e}`;t.classList.add(n)}}const N=function(t){const o=(0,e.useRef)(),c=(0,e.useRef)(),i=(0,e.useRef)(),r=(0,e.useRef)(),l=(0,e.useRef)(),a=function(){const[t,n]=(0,e.useState)(!1);return function(){n(!t)}}(),[N,M,v,L]=(0,e.useContext)(w),{itemId:x,title:h,children:j,isExpanded:g,isActive:E,saveDataItem:I,moveDataItem:p,activateItem:f,addItemAbove:T,addItemBelow:C,deleteItem:b}=t,D=function(){const e=null!==(t=document.querySelector("iframe")?.contentWindow)&&void 0!==t?t:window;var t;const n=s(),c=d(),i="blockordion-drag-drop";let r;function l(t){const n=t.clientX,o=t.clientY,c=e.scrollY;r.style.left=n-15+"px",r.style.top=o+c-15+"px"}function u(e){L.current&&p(v.current,L.current),v.current=null,L.current=null,M(!1),r&&r.parentElement.removeChild(r),n.removeEventListener("mousemove",l),n.removeEventListener("mouseup",u),m(null)}return{handleDragStart:function(e,t){v.current=x,M(!0),r=n.getElementById(i),r?r.innerHTML="":(r=document.createElement("div"),r.id=i),r.style.width=o.current.parentElement.clientWidth-20+"px",r.appendChild(o.current.cloneNode(!0)),c.appendChild(r),n.addEventListener("mousemove",l),n.addEventListener("mouseup",u),m("grab")},handleMouseOver:function(e){v.current&&v.current!==x&&(L.current=x,a())},handleMouseOut:function(e){L.current&&(L.current=null,a())}}}();return(0,e.useEffect)((()=>{!function(){const e=l.current.classList.contains("blockordion__expanded")?c.current.clientHeight+50+"px":"";r.current.style.height=e}();let e=document.activeElement;"IFRAME"===e.nodeName&&(e=e.contentDocument.activeElement),E&&!o.current.contains(e)&&i.current.focus()})),(0,e.createElement)(React.Fragment,null,(0,e.createElement)("section",{className:"blockordion__item"+(E?" blockordion__active":"")+(L.current===x?" blockordion__drag-over":""),ref:o,onClick:e=>{f()}},(0,e.createElement)("div",{className:"blockordion__mouseover_area"+(N?" blockordion__mouseover_area--active":""),onMouseOver:D.handleMouseOver,onMouseOut:D.handleMouseOut}),(0,e.createElement)("header",null,(0,e.createElement)("div",{className:"blockordion__drag-handle",draggable:!0,onDragStart:D.handleDragStart}),(0,e.createElement)(n.RichText,{tagName:"div",ref:i,className:"blockordion__title",placeholder:"Title of the item",allowedFormats:[],value:h,onChange:e=>{I({itemId:x,title:e,isExpanded:g,content:c.current.innerHTML})}}),(0,e.createElement)("div",{className:"blockordion__navbar"},(0,e.createElement)("div",{className:"blockordion__button blockordion__expandable"+(g?" blockordion__expanded":""),onClick:function(e){const t=e.target;let n=t.classList.contains("blockordion__expanded");n?t.classList.remove("blockordion__expanded"):t.classList.add("blockordion__expanded"),I({itemId:x,title:h,content:j,isExpanded:!n})},ref:l}),(0,e.createElement)(u,{addItemAbove:T,addItemBelow:C,deleteItem:b}))),(0,e.createElement)("div",{className:"blockordion__content",ref:r},(0,e.createElement)(n.RichText,{tagName:"article",ref:c,placeholder:"Please type the content of the item here...",value:j,onChange:e=>{I({itemId:x,title:i.current.innerText,content:e,isExpanded:g})}}))))},w=(0,e.createContext)(),M=JSON.parse('{"UU":"imandresi/blockordion"}');(0,t.registerBlockType)(M.UU,{edit:function({attributes:t,setAttributes:o}){const{data:c,activeItem:i}=t,[r,l]=(0,e.useState)(null),[a,u]=(0,e.useState)(!1),s=(0,e.useRef)(null),d=(0,e.useRef)(null);function m(e){const t={...c};t[e.itemId]={title:e.title,content:e.content,isExpanded:e.isExpanded},o({data:t})}function M(e,t){const n={};if(e!==t){for(const o in c)o!==e&&(o===t&&(n[e]=c[e]),n[o]=c[o]);o({data:n})}}function v(e){const t={};for(const n in c)n!==e&&(t[n]=c[n]);o({data:t})}function L(e=null,t=null){const n={},i=function(e){let t="";for(;e>0;)t="abcdefghijklmnopqrstuvwxyz"[(e-1)%26]+t,e=Math.floor((e-1)/26);return t}(Date.now()),r={title:"",content:"",isExpanded:!0};if(e)for(const o in c)o===e&&-1===t&&(n[i]=r),n[o]=c[o],o===e&&1===t&&(n[i]=r);else n[i]=r;o({activeItem:i,data:n})}function x(e=null){o({activeItem:e})}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(w.Provider,{value:[a,u,s,d]},(0,e.createElement)("section",{...(0,n.useBlockProps)()},function(){const t=[];for(const n in c)t.push((0,e.createElement)(N,{itemId:n,title:c[n].title,isExpanded:c[n].isExpanded,isActive:i===n,isDropAreaActive:a,key:n,saveDataItem:m,moveDataItem:M,activateItem:()=>{x(n)},addItemAbove:()=>{L(n,-1)},addItemBelow:()=>{L(n,1)},deleteItem:Object.keys({...c}).length>1?()=>{v(n)}:null},c[n].content));return t}())))},icon:(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwMjQgMTAyNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggZD0iTTExMCwxNTMuNGg4MjRjMTkuOCwwLDM1LjgsMTYsMzUuOCwzNS44cy0xNiwzNS44LTM1LjgsMzUuOEgxMTBjLTE5LjgsMC0zNS44LTE2LTM1LjgtMzUuOFM5MC4yLDE1My40LDExMCwxNTMuNEwxMTAsMTUzLjQNCgl6IE0xMTAsMjk2LjhoODI0YzE5LjgsMCwzNS44LDE2LDM1LjgsMzUuOHMtMTYsMzUuOC0zNS44LDM1LjhIMTEwYy0xOS44LDAtMzUuOC0xNi0zNS44LTM1LjhTOTAuMiwyOTYuOCwxMTAsMjk2LjhMMTEwLDI5Ni44eg0KCSBNMTM5LjIsNDQwLjFoNzY1LjZjMzUuOCwwLDY1LDI5LjMsNjUsNjV2Mjk5LjhjMCwzNS44LTI5LjMsNjUtNjUsNjVIMTM5LjJjLTM1LjgsMC02NS0yOS4zLTY1LTY1VjUwNS4xDQoJQzc0LjIsNDY5LjMsMTAzLjUsNDQwLjEsMTM5LjIsNDQwLjF6IE0xNDUuOSw1NjAuNHYxODkuM2MwLDI2LjgsMjEuOSw0OC43LDQ4LjcsNDguN2g2NTVjMjYuOCwwLDQ4LjctMjEuOSw0OC43LTQ4LjdWNTYwLjQNCgljMC0yNi44LTIxLjktNDguNy00OC43LTQ4LjdoLTY1NUMxNjcuOCw1MTEuNywxNDUuOSw1MzMuNiwxNDUuOSw1NjAuNEwxNDUuOSw1NjAuNHoiLz4NCjxwYXRoIGQ9Ik01NTUuMiw3MTguNGw3Ni03NmMxNC0xNCwxNC0zNi43LDAtNTAuN3MtMzYuNy0xNC01MC43LDBsLTc2LDc2Yy0xNCwxNC0xNCwzNi43LDAsNTAuNw0KCUM1MTguNiw3MzIuNCw1NDEuMyw3MzIuNCw1NTUuMiw3MTguNHoiLz4NCjxwYXRoIGQ9Ik00NjMuNSw1OTEuN2w3Niw3NmMxNCwxNCwxNCwzNi43LDAsNTAuN3MtMzYuNywxNC01MC43LDBsLTc2LTc2Yy0xNC0xNC0xNC0zNi43LDAtNTAuN1M0NDkuNSw1NzcuNyw0NjMuNSw1OTEuN3oiLz4NCjwvc3ZnPg0K"})})}},n={};function o(e){var c=n[e];if(void 0!==c)return c.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,c,i)=>{if(!n){var r=1/0;for(s=0;s<e.length;s++){for(var[n,c,i]=e[s],l=!0,a=0;a<n.length;a++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](n[a])))?n.splice(a--,1):(l=!1,i<r&&(r=i));if(l){e.splice(s--,1);var u=c();void 0!==u&&(t=u)}}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,c,i]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var c,i,[r,l,a]=n,u=0;if(r.some((t=>0!==e[t]))){for(c in l)o.o(l,c)&&(o.m[c]=l[c]);if(a)var s=a(o)}for(t&&t(n);u<r.length;u++)i=r[u],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(s)},n=globalThis.webpackChunkblockordion=globalThis.webpackChunkblockordion||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=o.O(void 0,[350],(()=>o(969)));c=o.O(c)})();