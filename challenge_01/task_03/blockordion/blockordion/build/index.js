(()=>{"use strict";var e,t={969:()=>{const e=window.React,t=window.wp.blocks,n=(window.wp.i18n,window.wp.blockEditor),o=window.wp.components,i=window.wp.primitives,c=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})),r=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})),l=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),a=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(i.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function u(t){const{addItemAbove:n,addItemBelow:i,deleteItem:u}=t,s=[{title:"Add New Item Above",icon:c,onClick:n},{title:"Add New Item Below",icon:r,onClick:i}];return u&&s.push({title:"Delete Current Item",icon:l,onClick:u}),(0,e.createElement)(o.DropdownMenu,{className:"",icon:a,label:"Settings",controls:s})}function s(){var e;return null!==(e=document.querySelector("iframe")?.contentDocument)&&void 0!==e?e:document}function d(){return s().body}function m(e=null){const t=d();if(t&&(t.classList.forEach((e=>{e.startsWith("cursor__")&&t.classList.remove(e)})),e)){const n=`cursor__${e}`;t.classList.add(n)}}const N=function(t){const o=(0,e.useRef)(),i=(0,e.useRef)(),c=(0,e.useRef)(),r=(0,e.useRef)(),l=(0,e.useRef)(),a=function(){const[t,n]=(0,e.useState)(!1);return function(){n(!t)}}(),[N,M,v,L,x]=(0,e.useContext)(w),{itemId:h,title:j,children:g,isExpanded:p,isActive:E,saveDataItem:I,moveDataItem:f,activateItem:T,addItemAbove:C,addItemBelow:b,deleteItem:D}=t,O=function(){const e=null!==(t=document.querySelector("iframe")?.contentWindow)&&void 0!==t?t:window;var t;const n=s(),i=d(),c="blockordion-drag-drop";let r;function l(t){const n=t.clientX,o=t.clientY,i=e.scrollY;r.style.left=n-15+"px",r.style.top=o+i-15+"px"}function u(e){L.current&&f(v.current,L.current),v.current=null,L.current=null,M(!1),r&&r.parentElement.removeChild(r),n.removeEventListener("mousemove",l),n.removeEventListener("mouseup",u),m(null)}return{handleDragStart:function(e,t){v.current=h,M(!0),r=n.getElementById(c),r?r.innerHTML="":(r=document.createElement("div"),r.id=c),r.style.width=o.current.parentElement.clientWidth-20+"px",r.appendChild(o.current.cloneNode(!0)),i.appendChild(r),n.addEventListener("mousemove",l),n.addEventListener("mouseup",u),m("grab")},handleMouseOver:function(e){v.current&&v.current!==h&&(L.current=h,a())},handleMouseOut:function(e){L.current&&(L.current=null,a())}}}();return(0,e.useEffect)((()=>{!function(){const e=l.current.classList.contains("blockordion__expanded")?i.current.clientHeight+50+"px":"";r.current.style.height=e}()})),(0,e.createElement)(React.Fragment,null,(0,e.createElement)("section",{className:"blockordion__item"+(x&&E?" blockordion__active":"")+(L.current===h?" blockordion__drag-over":""),ref:o,onClick:e=>{T()}},(0,e.createElement)("div",{className:"blockordion__mouseover_area"+(N?" blockordion__mouseover_area--active":""),onMouseOver:O.handleMouseOver,onMouseOut:O.handleMouseOut}),(0,e.createElement)("header",null,(0,e.createElement)("div",{className:"blockordion__drag-handle",draggable:!0,onDragStart:O.handleDragStart}),(0,e.createElement)(n.RichText,{tagName:"div",ref:c,className:"blockordion__title",placeholder:"Title of the item",allowedFormats:[],value:j,onChange:e=>{I({itemId:h,title:e,isExpanded:p,content:i.current.innerHTML})}}),(0,e.createElement)("div",{className:"blockordion__navbar"},(0,e.createElement)("div",{className:"blockordion__button blockordion__expandable"+(p?" blockordion__expanded":""),onClick:function(e){const t=e.target;let n=t.classList.contains("blockordion__expanded");n?t.classList.remove("blockordion__expanded"):t.classList.add("blockordion__expanded"),I({itemId:h,title:j,content:g,isExpanded:!n})},ref:l}),(0,e.createElement)(u,{addItemAbove:C,addItemBelow:b,deleteItem:D}))),(0,e.createElement)("div",{className:"blockordion__content",ref:r},(0,e.createElement)(n.RichText,{tagName:"article",ref:i,placeholder:"Please type the content of the item here...",value:g,onChange:e=>{I({itemId:h,title:c.current.innerText,content:e,isExpanded:p})}}))))},w=(0,e.createContext)(),M=JSON.parse('{"UU":"imandresi/blockordion"}');(0,t.registerBlockType)(M.UU,{edit:function({attributes:t,setAttributes:o}){const{data:i,activeItem:c}=t,[r,l]=(0,e.useState)(!1),[a,u]=(0,e.useState)(!1),s=(0,e.useRef)(null),d=(0,e.useRef)(null);function m(e){const t={...i};t[e.itemId]={title:e.title,content:e.content,isExpanded:e.isExpanded},o({data:t})}function M(e,t){const n={};if(e!==t){for(const o in i)o!==e&&(o===t&&(n[e]=i[e]),n[o]=i[o]);o({data:n})}}function v(e){const t={};for(const n in i)n!==e&&(t[n]=i[n]);o({data:t})}function L(e=null,t=null){const n={},c=function(e){let t="";for(;e>0;)t="abcdefghijklmnopqrstuvwxyz"[(e-1)%26]+t,e=Math.floor((e-1)/26);return t}(Date.now()),r={title:"",content:"",isExpanded:!0};if(e)for(const o in i)o===e&&-1===t&&(n[c]=r),n[o]=i[o],o===e&&1===t&&(n[c]=r);else n[c]=r;o({activeItem:c,data:n})}function x(e=null){o({activeItem:e})}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(w.Provider,{value:[r,l,s,d,a]},(0,e.createElement)("section",{...(0,n.useBlockProps)(),onFocus:()=>{u(!0)},onBlur:()=>{u(!1)}},function(){const t=[];for(const n in i)t.push((0,e.createElement)(N,{itemId:n,title:i[n].title,isExpanded:i[n].isExpanded,isActive:c===n,isDropAreaActive:r,key:n,saveDataItem:m,moveDataItem:M,activateItem:()=>{x(n)},addItemAbove:()=>{L(n,-1)},addItemBelow:()=>{L(n,1)},deleteItem:Object.keys({...i}).length>1?()=>{v(n)}:null},i[n].content));return t}())))},icon:(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEwMjQgMTAyNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggZD0iTTExMCwxNTMuNGg4MjRjMTkuOCwwLDM1LjgsMTYsMzUuOCwzNS44cy0xNiwzNS44LTM1LjgsMzUuOEgxMTBjLTE5LjgsMC0zNS44LTE2LTM1LjgtMzUuOFM5MC4yLDE1My40LDExMCwxNTMuNEwxMTAsMTUzLjQNCgl6IE0xMTAsMjk2LjhoODI0YzE5LjgsMCwzNS44LDE2LDM1LjgsMzUuOHMtMTYsMzUuOC0zNS44LDM1LjhIMTEwYy0xOS44LDAtMzUuOC0xNi0zNS44LTM1LjhTOTAuMiwyOTYuOCwxMTAsMjk2LjhMMTEwLDI5Ni44eg0KCSBNMTM5LjIsNDQwLjFoNzY1LjZjMzUuOCwwLDY1LDI5LjMsNjUsNjV2Mjk5LjhjMCwzNS44LTI5LjMsNjUtNjUsNjVIMTM5LjJjLTM1LjgsMC02NS0yOS4zLTY1LTY1VjUwNS4xDQoJQzc0LjIsNDY5LjMsMTAzLjUsNDQwLjEsMTM5LjIsNDQwLjF6IE0xNDUuOSw1NjAuNHYxODkuM2MwLDI2LjgsMjEuOSw0OC43LDQ4LjcsNDguN2g2NTVjMjYuOCwwLDQ4LjctMjEuOSw0OC43LTQ4LjdWNTYwLjQNCgljMC0yNi44LTIxLjktNDguNy00OC43LTQ4LjdoLTY1NUMxNjcuOCw1MTEuNywxNDUuOSw1MzMuNiwxNDUuOSw1NjAuNEwxNDUuOSw1NjAuNHoiLz4NCjxwYXRoIGQ9Ik01NTUuMiw3MTguNGw3Ni03NmMxNC0xNCwxNC0zNi43LDAtNTAuN3MtMzYuNy0xNC01MC43LDBsLTc2LDc2Yy0xNCwxNC0xNCwzNi43LDAsNTAuNw0KCUM1MTguNiw3MzIuNCw1NDEuMyw3MzIuNCw1NTUuMiw3MTguNHoiLz4NCjxwYXRoIGQ9Ik00NjMuNSw1OTEuN2w3Niw3NmMxNCwxNCwxNCwzNi43LDAsNTAuN3MtMzYuNywxNC01MC43LDBsLTc2LTc2Yy0xNC0xNC0xNC0zNi43LDAtNTAuN1M0NDkuNSw1NzcuNyw0NjMuNSw1OTEuN3oiLz4NCjwvc3ZnPg0K"})})}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=(t,n,i,c)=>{if(!n){var r=1/0;for(s=0;s<e.length;s++){for(var[n,i,c]=e[s],l=!0,a=0;a<n.length;a++)(!1&c||r>=c)&&Object.keys(o.O).every((e=>o.O[e](n[a])))?n.splice(a--,1):(l=!1,c<r&&(r=c));if(l){e.splice(s--,1);var u=i();void 0!==u&&(t=u)}}return t}c=c||0;for(var s=e.length;s>0&&e[s-1][2]>c;s--)e[s]=e[s-1];e[s]=[n,i,c]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,c,[r,l,a]=n,u=0;if(r.some((t=>0!==e[t]))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(a)var s=a(o)}for(t&&t(n);u<r.length;u++)c=r[u],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(s)},n=globalThis.webpackChunkblockordion=globalThis.webpackChunkblockordion||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,[350],(()=>o(969)));i=o.O(i)})();