(()=>{"use strict";var e,t={739:()=>{const e=window.React,t=window.wp.blocks,a=(window.wp.i18n,window.wp.data),l=window.wp.blockEditor,M=window.wp.components;function r(e){let t="";if(e){const a=e.getFullYear(),l=e.getMonth()+1,M=e.getDate();t=`${String(l).padStart(2,"0")}/${String(M).padStart(2,"0")}/${a}`}return t}const o=JSON.parse('{"UU":"imandresi/category-viewer"}');(0,t.registerBlockType)(o.UU,{edit:function({attributes:t,setAttributes:o}){const[s,n]=(0,e.useState)([]),{className:i,...c}=(0,l.useBlockProps)();(0,e.useEffect)((function(){const e=[{label:"Select a category",value:0}];var t;t=t=>{let a,l;Array.isArray(t)&&(t.forEach((t=>{var M,r;a=null!==(M=t.name)&&void 0!==M?M:null,l=null!==(r=t.id)&&void 0!==r?r:null,a&&l&&e.push({label:a,value:l})})),n(e))},fetch("/wp-json/wp/v2/categories").then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{t(e)})).catch((e=>{console.error("Fetch error:",e)}))}),[]);const y=(0,a.useSelect)((e=>{if(!t.category)return null;const a={categories:t.category,orderby:"date",order:t.sortOrder,_embed:!0};if(!t.displayAllPosts){const e=parseInt(t.displayedPosts);e&&(a.per_page=e,a.page=1)}let l=e("core").getEntityRecords("postType","post",a);return Array.isArray(l)&&0===l.length&&(l=null),l})),u={},g=i+(t.displayPostTitle?"":" no-title")+(t.displayPostDate?"":" no-date")+(t.displayPostExcerpt?"":" no-excerpt")+(t.displayPostThumbnail?"":" no-thumbnail");return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(M.PanelBody,{title:"Data Configuration"},(0,e.createElement)(M.SelectControl,{label:"Category",value:t.category,onChange:e=>{o({category:e})},options:s}),y&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(M.__experimentalDivider,null),(0,e.createElement)(M.ToggleControl,{label:"Display Title",checked:t.displayPostTitle,onChange:e=>{o({displayPostTitle:e})}}),(0,e.createElement)(M.ToggleControl,{label:"Display Date",checked:t.displayPostDate,onChange:e=>{o({displayPostDate:e})}}),(0,e.createElement)(M.ToggleControl,{label:"Display Excerpt",checked:t.displayPostExcerpt,onChange:e=>{o({displayPostExcerpt:e})}}),(0,e.createElement)(M.ToggleControl,{label:"Display Thumbnail",checked:t.displayPostThumbnail,onChange:e=>{o({displayPostThumbnail:e})}}),(0,e.createElement)(M.__experimentalDivider,null),(0,e.createElement)(M.ToggleControl,{label:"Display all posts",checked:t.displayAllPosts,onChange:e=>{o({displayAllPosts:e})}}),!t.displayAllPosts&&(0,e.createElement)(M.TextControl,{label:"Number of posts to display",value:t.displayedPosts,onKeyDown:e=>{const t=e.key;new Array(10).keys(),[...new Array(10).keys()].map((e=>e.toString())).concat("Backspace").includes(t)||e.preventDefault()},onChange:e=>{o({displayedPosts:e})}}),(0,e.createElement)(M.SelectControl,{label:"Posts sorting order",value:t.sortOrder,onChange:e=>{o({sortOrder:e})},options:[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}]})))),(0,e.createElement)("div",{className:g,...c},y&&y.map(((a,l)=>{const M=u;if(t.displayPostThumbnail&&a._embedded?.["wp:featuredmedia"]){const e=a?._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.full?.source_url;M.backgroundImage=`url(${e})`}const o={date:r(new Date(a.date)),title:a.title.rendered,excerpt:a.excerpt.rendered,link:a.link,styles:{...M}};return(0,e.createElement)("div",{key:l,className:"category-viewer__post"},(t.displayPostThumbnail||t.displayPostTitle||t.displayPostDate||t.displayPostExcerpt)&&(0,e.createElement)(e.Fragment,null,t.displayPostThumbnail&&(0,e.createElement)("a",{className:"category-viewer__thumbnail",href:o.link,style:o.styles}),(0,e.createElement)("div",{className:"category-viewer__content"},(t.displayPostTitle||t.displayPostDate)&&(0,e.createElement)("div",{className:"category-viewer__title"},t.displayPostDate&&(0,e.createElement)("span",{className:"category-viewer__title__date"},o.date),t.displayPostTitle&&(0,e.createElement)("span",{className:"category-viewer__title__text"},(0,e.createElement)("a",{href:o.link},o.title))),t.displayPostExcerpt&&(0,e.createElement)("div",{className:"category-viewer__excerpt",dangerouslySetInnerHTML:{__html:o.excerpt}}))))}))||(0,e.createElement)("p",null,"No posts found. (Please select a category to display)")))},icon:(0,e.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ic3ZnLWljb24iIHN0eWxlPSJ3aWR0aDogMWVtO2hlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTk2Ny45MjMgODE2LjIwN0w4MjAuNTA3IDYyMy43MjNjNTIuMjkzLTQ5Ljg4NCA4NS4xNDctMTE5LjcyMiA4NS4xNDctMTk3LjQ3MiAwLTE1MC42ODQtMTIyLjk5LTI3My4zMy0yNzQuMDE4LTI3My4zMy0xNTEuMiAwLTI3NC4wMTkgMTIyLjY0Ni0yNzQuMDE5IDI3My4zM3MxMjIuOTkgMjczLjMzIDI3NC4wMTkgMjczLjMzYzQ4LjY4IDAgOTQuMjY0LTEyLjkgMTMzLjk5OS0zNS4wOWwxNDcuOTMyIDE5My4xNzFjNi43MDggOC43NzMgMTYuODU3IDEzLjQxNyAyNy4zNSAxMy40MTcgNy4yMjUgMCAxNC42MjEtMi4yMzYgMjAuNjQyLTcuMDUyIDE0Ljk2NS0xMS41MjUgMTcuODktMzIuODU1IDYuMzY0LTQ3Ljgyek00MjEuMDkxIDQyNi4yNTFjMC0xMTUuNzY2IDk0LjQzNS0yMDkuODU3IDIxMC41NDUtMjA5Ljg1N1M4NDIuMTggMzEwLjQ4NSA4NDIuMTggNDI2LjI1cy05NC40MzYgMjA5Ljg1Ny0yMTAuNTQ1IDIwOS44NTdTNDIxLjA5IDU0Mi4wMTYgNDIxLjA5IDQyNi4yNTF6IG0tMTMyLjYyMy0xMzcuNDRIODMuMjU1Yy0xOC45MjIgMC0zNC4yMzEtMTUuMzA5LTM0LjIzMS0zNC4wNThzMTUuMzEtMzQuMDU5IDM0LjIzLTM0LjA1OWgyMDUuMjE0YzE4LjkyMSAwIDM0LjIzIDE1LjMxIDM0LjIzIDM0LjA1OSAwIDE4Ljc1LTE1LjMwOSAzNC4wNTktMzQuMjMgMzQuMDU5eiBtLTguMjU3IDMzNy4zMkg4My4yNTVjLTE4LjkyMiAwLTM0LjIzMS0xNS4zMDktMzQuMjMxLTM0LjA1OHMxNS4zMS0zNC4wNiAzNC4yMy0zNC4wNmgxOTYuOTU3YzE4LjkyMiAwIDM0LjIzIDE1LjMxIDM0LjIzIDM0LjA2cy0xNS4zMDggMzQuMDU4LTM0LjIzIDM0LjA1OHogbS00MC40MjMtMTY5LjA5SDgzLjI1NWMtMTguOTIyIDAtMzQuMjMxLTE1LjMwOS0zNC4yMzEtMzQuMjMgMC0xOC45MjIgMTUuMzEtMzQuMjMxIDM0LjIzLTM0LjIzMWgxNTYuNTM0YzE4LjkyMSAwIDM0LjIzIDE1LjMxIDM0LjIzIDM0LjIzLTAuMTcyIDE4LjkyMi0xNS40OCAzNC4yMzEtMzQuMjMgMzQuMjMxeiBtMjIwLjM1IDM0NC4ySDgzLjI1NWMtMTguOTIyIDAtMzQuMjMxLTE1LjMwOS0zNC4yMzEtMzQuMjNzMTUuMzEtMzQuMjMgMzQuMjMtMzQuMjNoMzc2Ljg4NGMxOC45MjEgMCAzNC4yMyAxNS4zMDggMzQuMjMgMzQuMjMgMCAxOC45MjEtMTUuMzA5IDM0LjIzLTM0LjIzIDM0LjIzeiIgIC8+PC9zdmc+"})})}},a={};function l(e){var M=a[e];if(void 0!==M)return M.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,M,r)=>{if(!a){var o=1/0;for(c=0;c<e.length;c++){for(var[a,M,r]=e[c],s=!0,n=0;n<a.length;n++)(!1&r||o>=r)&&Object.keys(l.O).every((e=>l.O[e](a[n])))?a.splice(n--,1):(s=!1,r<o&&(o=r));if(s){e.splice(c--,1);var i=M();void 0!==i&&(t=i)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,M,r]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var M,r,[o,s,n]=a,i=0;if(o.some((t=>0!==e[t]))){for(M in s)l.o(s,M)&&(l.m[M]=s[M]);if(n)var c=n(l)}for(t&&t(a);i<o.length;i++)r=o[i],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=globalThis.webpackChunkcategory_viewer=globalThis.webpackChunkcategory_viewer||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var M=l.O(void 0,[350],(()=>l(739)));M=l.O(M)})();